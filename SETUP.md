# 장할톡 데모 설정 가이드

## 🚀 빠른 시작 (5분)

### 1단계: 의존성 설치
```bash
npm install
```

### 2단계: 개발 서버 실행
```bash
npm run dev
```

### 3단계: 브라우저에서 확인
[http://localhost:3000](http://localhost:3000) 접속

**끝!** 이제 시뮬레이션을 시작할 수 있습니다.

---

## 📱 카카오 비즈메시지 연동 (선택사항)

카카오 API 키가 없어도 **Mock 모드**로 동작하므로 데모는 가능합니다.
실제 알림톡을 발송하려면 아래 단계를 따르세요.

### 1. 카카오 비즈니스 계정 생성
- [카카오 비즈니스](https://business.kakao.com) 접속
- 비즈니스 계정 생성 및 인증

### 2. 알림톡 템플릿 등록
1. 카카오 비즈니스 콘솔 → **알림톡** 메뉴
2. **템플릿 만들기** 클릭
3. 템플릿 내용:

```
고객님이 담아두신 상품,
월 {{monthly_payment}}원이면 구매할 수 있어요!

💳 최대 12개월 완전 무이자
📦 {{product_name}}
💰 총 {{total_amount}}원

지금 바로 부담없이 구매하세요 😊
```

4. 템플릿 승인 대기 (1-2일)

### 3. API 키 발급
1. [카카오 개발자 콘솔](https://developers.kakao.com) 접속
2. 애플리케이션 생성
3. **앱 키** → REST API 키 확인
4. **알림톡** 서비스 활성화
5. **알림톡 발신번호** 등록

### 4. 환경 변수 설정
프로젝트 루트에 `.env.local` 파일 생성:

```env
KAKAO_REST_API_KEY=발급받은_REST_API_키
KAKAO_SENDER_KEY=알림톡_발신번호
KAKAO_TEMPLATE_CODE=승인받은_템플릿_코드
NEXT_PUBLIC_APP_URL=http://localhost:3000
```

### 5. 서버 재시작
```bash
npm run dev
```

---

## 🎯 데모 시나리오

### 시나리오 1: 기본 시뮬레이션
1. 메인 페이지 접속
2. "시뮬레이션 시작하기" 클릭
3. 고객 정보 입력:
   - 고객명: 홍길동
   - 전화번호: 010-1234-5678 (테스트용)
   - 상품명: 명품 가방
   - 총 금액: 240,000
4. "알림톡 발송하기" 클릭
5. 대시보드에서 성과 확인

### 시나리오 2: 대량 데이터 생성
여러 번 시뮬레이션을 실행하여 누적 데이터를 생성하고, 대시보드의 통계 변화를 관찰합니다.

---

## 🔧 문제 해결

### 데이터베이스 오류
- `data/` 폴더가 자동 생성됩니다
- 권한 문제가 있다면 수동으로 `data/` 폴더를 생성하세요

### 포트 충돌
- 다른 포트 사용: `PORT=3001 npm run dev`

### 카카오 API 오류
- Mock 모드로 동작하므로 API 키 없이도 데모 가능
- 실제 발송을 원하면 위의 연동 가이드를 따르세요

---

## 📊 주요 기능

✅ **실시간 대시보드**: 장바구니 이탈률, 전환율, 추가 매출 시각화  
✅ **수동 시뮬레이션**: 고객 정보 입력으로 알림톡 발송 테스트  
✅ **Mock 모드**: 카카오 API 없이도 데모 가능  
✅ **SQLite 데이터베이스**: 발송 로그 및 전환 데이터 저장  

---

## 🚧 다음 단계

- [ ] 카페24 OAuth 연동
- [ ] 카페24 Webhook 연동
- [ ] 실제 자동 감지 시스템
- [ ] 토스페이먼츠 결제 연동

